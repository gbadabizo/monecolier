{"version":3,"sources":["./src/app/eleve/eleve.page.html","./src/app/eleve/eleve.module.ts","./src/app/eleve/eleve.page.scss","./src/app/eleve/eleve.page.ts"],"names":[],"mappings":"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","file":"eleve-eleve-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-header>\\n      <ion-toolbar  color=\\\"primary\\\">\\n        <ion-title style=\\\"margin-left: 20%\\\">\\n         Suivre un élève\\n        </ion-title>\\n      </ion-toolbar>\\n    </ion-header>\\n\\n<ion-content fullscreen>\\n    <ion-grid no-padding  *ngIf=\\\"isadd\\\" >\\n    <ion-row>\\n      <ion-col fullscreen no-padding>\\n         <ion-img  class=\\\"image\\\" src=\\\"assets/imgs/p3.jpg\\\"></ion-img></ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid *ngIf=\\\"!isadd\\\" fullscreen no-padding>\\n    <ion-list style=\\\"background-color:#f2bcbc;\\\">\\n      <ion-item-divider color=\\\"secondary\\\">\\n        <ion-thumbnail slot=\\\"start\\\">\\n            <img src=\\\"assets/imgs/user-green-100.png\\\">\\n          </ion-thumbnail>\\n          <ion-label>\\n            <h2>{{eleve.nom}} {{eleve.prenoms}}</h2>\\n           </ion-label>\\n      </ion-item-divider>\\n      <ion-item-divider color=\\\"secondary\\\">\\n        <ion-button size=\\\"small\\\" color=\\\"primary\\\"><ion-icon name=\\\"school\\\"></ion-icon> {{ecole.nom}}</ion-button>\\n        <ion-button size=\\\"small\\\" color=\\\"primary\\\"><ion-icon name=\\\"reorder\\\"></ion-icon>{{classe.code}}</ion-button>\\n        <ion-button size=\\\"small\\\" color=\\\"primary\\\"><ion-icon name=\\\"time\\\"></ion-icon> {{annee.libelle}}</ion-button>\\n      </ion-item-divider>\\n          \\n      </ion-list>\\n  </ion-grid>\\n\\n    <ion-card *ngIf=\\\"isadd\\\">\\n       \\n     <ion-card-content>\\n            <form [formGroup]=\\\"addEleveForm\\\" (ngSubmit)=\\\"saveAddEleve()\\\">\\n                <ion-grid>\\n                    <ion-row>\\n                      <ion-col>\\n                  <ion-item>\\n                    <ion-label position=\\\"floating\\\">Matricule de l'élève</ion-label>\\n                    <ion-input type=text  name=\\\"matricule\\\" formControlName=\\\"matricule\\\"></ion-input>\\n                  </ion-item>\\n                </ion-col>\\n                  </ion-row>\\n                  <ion-row>\\n                    <ion-col>\\n                 <ion-item>\\n                    <ion-label>Année scolaire</ion-label>\\n                    <ion-select ok-text=\\\"Ok\\\" cancel-text=\\\"Annuler\\\"   name=\\\"annee\\\" formControlName=\\\"annee\\\">\\n                      <ion-select-option *ngFor=\\\"let annee of annees\\\" value=\\\"{{annee.id_annee}}\\\">{{annee.libelle}}</ion-select-option>\\n    \\n                    </ion-select>\\n                  </ion-item>\\n              </ion-col>\\n                </ion-row>\\n                      <ion-row>\\n                        <ion-col>\\n                      <ion-item>\\n                          <ion-label position=\\\"floating\\\">Ecole de l'élève</ion-label>\\n                          <ionic-selectable\\n                         formControlName=\\\"ecole\\\"\\n                            [(ngModel)]=\\\"ecole\\\"\\n                            [items]=\\\"ecoles\\\"\\n                            itemValueField=\\\"id_ecole\\\"\\n                            itemTextField=\\\"nom\\\"\\n                            [canSearch]=\\\"true\\\"\\n                            (onChange)=\\\"portChange($event)\\\">\\n                            <ng-template ionicSelectableCloseButtonTemplate>\\n                              <ion-icon name=\\\"close-circle\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\n                            </ng-template>  \\n                            \\n                      </ionic-selectable>\\n                      </ion-item>\\n                      </ion-col>\\n                      </ion-row>\\n                   <br/>\\n                  <ion-row>\\n                      <ion-col align-self-center>\\n                        \\n                    <ion-button color=\\\"primary\\\" style=\\\"margin-left: 15%\\\" type=\\\"submit\\\" [disabled]=\\\"!addEleveForm.valid\\\" ><ion-icon name=\\\"checkmark-circle-outline\\\"></ion-icon>&nbsp;Suivre</ion-button>\\n                    </ion-col>\\n                    <ion-col align-self-center>\\n                    <ion-button color=\\\"medium\\\"  style=\\\"margin-left: 10%\\\"  (click)=\\\"exitApp()\\\"> <ion-icon name=\\\"close-circle-outline\\\"></ion-icon>&nbsp;Annuler</ion-button>\\n                  </ion-col>\\n                  </ion-row>\\n            </ion-grid>\\n            </form>\\n        </ion-card-content>\\n      </ion-card>\\n      <ion-card *ngIf=\\\"!isadd\\\">\\n        <ion-list>\\n          <ion-list-header><h6>Suivre l'élève dans les matières suivantes</h6></ion-list-header>\\n          <ion-label style=\\\"margin-left:2%\\\" color=\\\"danger\\\">*sélectionner les matières</ion-label>\\n            <ion-item *ngFor=\\\"let m of matieres\\\">\\n              <ion-label>{{m.code}} - {{m.libelle}}</ion-label>\\n              <ion-checkbox color=\\\"primary\\\" checked slot=\\\"start\\\" (ionChange)=\\\"datachanged(m)\\\"></ion-checkbox>\\n            </ion-item>\\n            \\n          </ion-list>\\n      </ion-card>\\n      <ion-row>\\n        <ion-col align-self-center>   \\n        <ion-button color=\\\"primary\\\" style=\\\"margin-left: 15%\\\" (click)=\\\"souscrire()\\\"  ><ion-icon name=\\\"checkmark-circle-outline\\\"></ion-icon>&nbsp; Confirmer</ion-button>\\n      </ion-col>\\n      <ion-col align-self-center>\\n      <ion-button color=\\\"medium\\\"  style=\\\"margin-left: 10%\\\"  (click)=\\\"exitApp()\\\"> <ion-icon name=\\\"close-circle-outline\\\"></ion-icon>&nbsp;Annuler</ion-button>\\n    </ion-col>\\n    </ion-row>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { IonicSelectableModule } from 'ionic-selectable';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ElevePage } from './eleve.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ElevePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    IonicSelectableModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ElevePage]\n})\nexport class ElevePageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VsZXZlL2VsZXZlLnBhZ2Uuc2NzcyJ9 */\"","import { Storage } from '@ionic/storage';\nimport { EleveService } from './../eleve.service';\nimport { Ecole } from './../../../../suiviscolaire-enseignant/src/app/models/ecole';\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { IonicSelectableComponent } from 'ionic-selectable';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-eleve',\n  templateUrl: './eleve.page.html',\n  styleUrls: ['./eleve.page.scss'],\n})\n\nexport class ElevePage implements OnInit {\n  addEleveForm = new FormGroup({\n    matricule : new FormControl('', Validators.required),\n    ecole : new FormControl('', Validators.required),\n    annee : new FormControl('', Validators.required),\n   \n  });\n  eleve:any;\n  matieres=[];\n  classe:any;\n  isadd=true;\n  annee:any;\n  savedMatiere:any;\n  parameters={\n    id_ecole:'',\n    id_user:'',\n    id_annee:'',\n    matricule:''\n  }\n  souscrireData={\n    id_eleve:'',\n    id_annee:'',\n    id_classe:'',\n    matiere:[]\n  }\n  ecoles: Ecole[];\n  ecole: Ecole;\n  annees=[];\n  userid:any;\n  \n\n  constructor(public alertCtrl: AlertController,private router: Router, private eleveService: EleveService,private storage: Storage) {\n    \n}\n\nportChange() {\n\n}\n\n \n  ngOnInit() {\n    this.eleveService.getEcole().subscribe((data:any)=>{\n      console.log(data)\n      if(data.code==800){\n        this.ecoles=data.datas ;\n      }\n    });\n    this.eleveService.getAnnees().subscribe((data:any)=>{\n      if(data.code==800){\n        this.annees= data.datas;\n      }\n    });\n    this.storage.get('userid').then((val) => {\n      this.userid= val;\n      console.log(this.userid);\n    });\n  }\n  saveAddEleve(){\n    console.log(this.addEleveForm.value);\n    let eleveform= this.addEleveForm.value;\n    this.parameters.id_annee=eleveform.annee;\n    this.parameters.id_ecole= eleveform.ecole.id_ecole;\n    this.parameters.id_user= this.userid;\n    this.parameters.matricule= eleveform.matricule;\n    console.log(this.parameters);\n    this.eleveService.saveParent(this.parameters).subscribe((data:any)=>{\n          console.log(data);\n          if(data.code==800){\n            this.isadd=false;\n            this.eleve=data.datas[0];\n            this.classe=data.datas[1];\n            this.matieres=data.datas[2];\n            this.savedMatiere=this.matieres;\n            this.annee=data.datas[3];\n          }\n    });\n\n  }\n  souscrire(){\n    this.souscrireData.id_annee=this.annee.id_annee;\n    this.souscrireData.id_eleve=this.eleve.id_eleve;\n    this.souscrireData.id_classe=this.classe.id_classe;\n    this.souscrireData.matiere= this.matieres;\n    console.log(this.souscrireData);\n  }\n  datachanged(m){\n    console.log(m);\n    let mat = this.savedMatiere.find(ob => ob.id_matiere === m.id_matiere);\n    if(mat===null){\n        this.savedMatiere.push(m);\n    }else{\n      this.savedMatiere.splice(this.savedMatiere.indexOf(m),1);\n    }\n    console.log(this.savedMatiere);\n  }\n  exitApp() {\n    this.alertCtrl.create({\n      header : 'Attention!!',\n      message: 'Etes-vous sûr de quitter l\\'application',\n      buttons : [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n      },\n      {\n        text: 'Quitter',\n        handler: () => {\n          // tslint:disable-next-line: no-string-literal\n          this.router.navigate(['home']);\n        }\n      }\n      ]\n    }).then((alert) => {\n      alert.present();\n    });\n  }\n\n}\n"],"sourceRoot":""}